<!DOCTYPE html>
<html>
  <head>
    <title>Using YDN-DB Javascript Module</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="/jsc/app.js"></script>
  </head>
  <body>
    <article class="content">
      <script type="text/javascript" src="/jsc/ydn.db-dev.js"></script>
      <div dir="ltr">
        <h2><a name="TOC-Using-to-YDN-DB-Module">Using to YDN-DB Module</a></h2>
        <a name="TOC-Using-to-YDN-DB-Module"> </a>
        <p><a name="TOC-Using-to-YDN-DB-Module"> </a><a name="TOC-Using-to-YDN-DB-Module">YDN-DB
            module is&nbsp;javascript database wrapper&nbsp;designed to use for
            large scale web application. The web app use several gigabyte of
            data, millions of record and could run several days without
            refreshing the page. </a>The goal of this library read:</p>
        <quote>Beautiful database API for <em>secure</em>, <em>robust</em>, <em>high-performance</em>,
          <em>maintainable</em>, large-scale javascript web app.</quote>
        <p>The goal are listed in order, meaning if there warrant a compromise
          in the implementation former override later. We will not compromise
          sesurity for robustness or robustness for performance, etc. On top of
          that we want a beautiful API which means orthogonal, symmetric,
          flexible and turnkey solution that fully utilize underlying API.
          &nbsp; <br>
        </p>
        <h3><a name="TOC-Using-to-YDN-DB-Module"></a><a name="TOC-Security">Security</a></h3>
        <p> <a name="TOC-Security"></a>Web application security is mainly
          provided by same origin policy of browser data storage. It is
          important that&nbsp;transient application data not authorized by the
          login user should not stored in the database. Additionally it is best
          practice to wipe out user data if the user logout, on the assumption
          that user will rarely logout on his private computer. </p>
        <p> IndexedDB API is inherently secure due to good separation of
          database commend and data. However WebSQL may compromise if query are
          execute without parametrization. In this library, query execution
          always use parametrize query. </p>
        <p><a name="TOC-Security">Security is a strong as weakest link and in
            general security is mainly all about balance among easy of use,
            performance and cost. We can encrypt every thing store in the
            database. But there is a cost for encryption and decryption. There
            is user suffering on convenient. Security also require user
            co-operation during secret key storage and transfer. We think, we
            should provide balance security layer for the database API.
            Encryption and expiring storage is provided for </a><a href="file:///ydn-db/starting/setup">default
            key-value store</a>&nbsp;by setting a&nbsp;<a href="https://sites.google.com/a/yathit.com/ydn-dev/ydn-db/using/encryption.html">secret&nbsp;key</a>.&nbsp;
          <br></p>
        <h3><a name="TOC-Performance-">Performance &nbsp;&nbsp;</a></h3>
        <a name="TOC-Performance-"> </a>
        <p><a name="TOC-Performance-">In near future, all modern browsers will
            support IndexedDB. To get the best performance, we must use all the
            available feature of </a><a href="http://www.w3.org/TR/IndexedDB/">native
            IndexedDB API</a>. Fortunately IndexedDB API is very simple and
          minimal. We put &nbsp;thin&nbsp;layer on it. The core of this
          api,&nbsp;<code>run</code>, is nothing more than wrapping async
          callback of native IndexedDB API into&nbsp;<code>Deferred</code>&nbsp;object.
          There is no pre or post processing for IndexedDB storage mechanism.
          For WebSQL there is pre and post JSON serialization. With YDN-DB, you
          get the raw performance of IndexedDB. The thin wrapper, having two or
          three callback functions are also you will have to write if you don't
          use the API. &nbsp;</p>
        <p>Every method in IndexedDB API is asynchronous. That is blessing and
          curse. Asynchronicity is necessary for single thread javascript
          process to be responsive. However spaghetti of async callbacks are
          hard to follow and more important very difficult to test. To address
          this, we are&nbsp;targeting&nbsp;full coverage of our API using <a href="http://code.google.com/p/js-test-driver/">JsTestDriver</a>
          javascript automated test suite.&nbsp;We employed <a href="http://twistedmatrix.com/documents/current/core/howto/defer.html">Twisted
            deferred pattern</a> as implemented in Google Closure Library <a href="http://code.google.com/p/closure-library/source/browse/trunk/third_party/closure/goog/mochikit/async/deferred.js">
            goog.async.Deferred</a> module.&nbsp;</p>
        <p>This API do not use in memory processing. If native API do not
          provide functionality, we clearly left to library user for
          implementation. These missing features are secondary sorting, grouping
          and filtering on non-index fields. &nbsp; <br>
        </p>
        <p>One concern about using our API, misuse of <a href="/ydn-db/using/query-iterations">query
            iteration methods</a>&nbsp;and <a href="https://sites.google.com/a/yathit.com/ydn-dev/ydn-db/starting/query">their&nbsp;convenient&nbsp;methods</a>.
          These high level methods are very easy and&nbsp;intuitive for those
          coming from SQL, but they are not efficient in NoSQL. If performance
          is critical, index the field and use <a href="https://sites.google.com/a/yathit.com/ydn-dev/ydn-db/using/key-range-query">key
            range query</a>. Design your data model small and try most of things
          can be done using only <a href="https://sites.google.com/a/yathit.com/ydn-dev/ydn-db/using/schema">keyPath</a>,
          or <a href="https://sites.google.com/a/yathit.com/ydn-dev/ydn-db/using/key.html">cleaver
            use of key</a>.&nbsp;</p>
        <h3><a name="TOC-Productivity">Productivity</a></h3>
        <a name="TOC-Productivity">
          <p>For the first time IndexedDB user will&nbsp;definitely encounter
            bunch of async callback just for opening database. There are quark
            as standard are changing on versioning. However you will get over it
            soon. The real pain is the amount of boiler&nbsp;plate code require
            just to get and put the data into the store. Most of these problems,
            as we learn from our experience are due to the fact that browser is
            waiting for some user input like asking to update some plug in or
            waiting answer for security questions. Web app have no way of known
            them.&nbsp;In case of error, there is really nothing a web app can
            handle to resolve the problem, but to abort the transaction and try
            again.&nbsp;Even more pain for query and transaction. What this
            means is bunch of error callbacks from IndexedDB api are not
            interest to web app, but require to continue the process. &nbsp;We
            just want <i>single asynchronous callback</i> for basic database
            operations. That is what this wrapper provide. &nbsp;&nbsp;</p>
          <p>Optionally you can use this API for modeling relationship,
            enforcing consistency, powerful query iteration methods and data
            encryption. &nbsp;&nbsp;</p>
          <p><br>
          </p>
        </a>
        <h3><a name="TOC-Productivity"></a><a name="TOC-Cross-browsers-cross-platform-easy-to-use">Cross
            browsers, cross platform, easy to use</a></h3>
        <a name="TOC-Cross-browsers-cross-platform-easy-to-use"> </a>
        <p><a name="TOC-Cross-browsers-cross-platform-easy-to-use"> This
            javascript module should run out of the box on all fairly modern
            browsers on all user platforms. If not working to you, please </a><a
            href="https://bitbucket.org/ytkyaw/ydn-db/issues/new">file
            an issue</a>. </p>
      </div>
    </article>
    <script type="text/javascript">initDom()</script>
  </body>
</html>
