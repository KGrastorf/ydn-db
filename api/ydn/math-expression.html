
<!DOCTYPE html>
<html lang="en" class="no-js no-touch">
  <head>

<link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro">

    
<meta charset="utf-8" />


<title>
  
    Namespace ydn.math.Expression
  
</title>







<meta name="description" content="Getting started with YDN-DB javascript module" />


<link rel="icon" href="/favicon.ico" />

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1" />

<meta name="twitter:card" content="summary">
<meta property="twitter:account_id" content="@yathit" />
<meta property="twitter:site" content="@yathit" />
<meta property="twitter:description" content="Getting started with YDN-DB javascript module" />
<meta property="twitter:creator" content="@yathit" />
<meta property="twitter:image:src" content="http://dev.yathit.com/imgs/logo.png" />



<link rel="publisher" href="https://plus.google.com/+KyawTun-Yathit">

<meta itemprop="name" content="
  
    Namespace ydn.math.Expression
  
">
<link itemprop="image" href="/imgs/logo.png">
<meta itemprop="description" content="Getting started with YDN-DB javascript module">

<meta property="og:site_name" content="Yathit" />
<meta property="og:title" content="
  
    Namespace ydn.math.Expression
  
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://dev.yathit.com/" />
<meta property="og:image" content="http://dev.yathit.com/imgs/logo.png" />

<link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/iccdnijlhdogaccaiafdpjmbakdcdakk">
<link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/ldikiokclnbceabnlbkabmcacpiednop">

<link rel="stylesheet" media="screen" href="/css/styles.min.css" />

<script src="/js/analytics.js"></script>

  </head>

  <body class="page--article article--ydn theme--ydn" itemscope itemtype="http://schema.org/TechArticle">
    
      
    

    <header class="main-header">

  <div class="yathit-header">
  
    <div class="yathit-header__top">
      <div class="container">
        <span id="beta" class="beta">
  <i class="icon icon-cog"></i>
  <a name="view-source" href="https://github.com/yathit" target="_blank">View Source</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a name="feedback-link" href="https://github.com/yathit/issues/new?title=Feedback%20for:%20/api/ydn/math-expression.html" target="_blank">Submit Feedback</a>
</span>


        <a class="yathit-header__dev-logo" href="//dev.yathit.com/">
          <img src="/imgs/yathit-dev-network.svg" alt="Yathit Developers Homepage">
        </a>
      </div>
    </div>
  </div>

	























<nav class="main-nav">

  <header class="main-nav__header">
    <span class="main-nav__current-label">Namespace ydn.math.Expression</span>
  </header>

  <ul class="main-nav__list clear">
  
    
    
    <li class="main-nav__item main-nav__item--<strong>ydn-db</strong>
                main-nav__item--home 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="/ydn-db/index.html" title="Go to <strong>YDN-DB</strong>">

        <strong>YDN-DB</strong>

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--download
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="/ydn-db/downloads.html" title="Go to Download">

        Download

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--documentation
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="/ydn-db/doc/index.html" title="Go to Documentation">

        Documentation

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--api
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="/api/ydn/db/storage.html" title="Go to API">

        API

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--examples
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="//dev.yathit.com/ydn-db/doc/example/index.html" title="Go to Examples">

        Examples

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--github
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="https://github.com/yathit/ydn-db" title="Go to GitHub">

        GitHub

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  

  <li class="main-nav__item right">
    <a class="main-nav__link main-nav__link--parent" id="user-login">...</a>
  </li>
  <li class="main-nav__item right">
    <span class="main-nav__link main-nav__link--parent" id="user-name" style="display: none;"></span>
  </li>

  </ul>
  <button class="main-nav__btn btn--toggle-nav">
    <i class="icon icon-menu"></i>
  </button>

</nav>


</header>


    <div class="article-container" itemprop="text">

      <div class="container">
        <div class="content">
          <div class="api-sidebar">
              <div class="api-toc" data-namespace=>
<ul name="ydn"><span>ydn</span>
  <li><a href="/api/ydn/debug.html">debug</a></li>
  <li><ul name="ydn.api"><span>ydn.api</span>
  <li><a href="//crm.yathit.com/api/ydn/api/app.html">App</a></li>
  <li><a href="//crm.yathit.com/api/ydn/api/user.html">User</a></li>
  <li><a href="//crm.yathit.com/api/ydn/api/user-assess.html">UserAssess</a></li>
</ul></li>  <li><ul name="ydn.crm"><span>ydn.crm</span>
  <li><ul name="ydn.crm.inj"><span>ydn.crm.inj</span>
  <li><a href="//crm.yathit.com/api/ydn/crm/inj/app.html">App</a></li>
  <li><a href="//crm.yathit.com/api/ydn/crm/inj/context.html">Context</a></li>
</ul></li>  <li><ul name="ydn.crm.sugarcrm"><span>ydn.crm.sugarcrm</span>
  <li><a href="//crm.yathit.com/api/ydn/crm/sugarcrm/record.html">Record</a></li>
  <li><a href="//crm.yathit.com/api/ydn/crm/sugarcrm/schema.html">Schema</a></li>
  <li><ul name="ydn.crm.sugarcrm.model"><span>ydn.crm.sugarcrm.model</span>
  <li><a href="//crm.yathit.com/api/ydn/crm/sugarcrm/model/field.html">Field</a></li>
  <li><a href="//crm.yathit.com/api/ydn/crm/sugarcrm/model/group.html">Group</a></li>
  <li><a href="//crm.yathit.com/api/ydn/crm/sugarcrm/model/record.html">Record</a></li>
  <li><a href="//crm.yathit.com/api/ydn/crm/sugarcrm/model/sugarcrm.html">SugarCRM</a></li>
</ul></li>  <li><ul name="ydn.crm.sugarcrm.ui"><span>ydn.crm.sugarcrm.ui</span>
  <li><a href="//crm.yathit.com/api/ydn/crm/sugarcrm/ui/events.html">events</a></li>
  <li><a href="//crm.yathit.com/api/ydn/crm/sugarcrm/ui/simple-sugar-panel.html">SimpleSugarPanel</a></li>
  <li><ul name="ydn.crm.sugarcrm.ui.record"><span>ydn.crm.sugarcrm.ui.record</span>
  <li><a href="/api/ydn/crm/sugarcrm/ui/record/record.html">Record</a></li>
</ul></li></ul></li></ul></li></ul></li>  <li><ul name="ydn.db"><span><a href="/api/ydn/db/index.html">db</a></span>
  <li><a href="//dev.yathit.com/api/ydn/db/icursor.html">ICursor</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/iterator.html">Iterator</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/key.html">Key</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/keyrange.html">KeyRange</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/iterator.html">Iterator</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/query.html">Query</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/request.html">Request</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/schema.html">schema</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/storage.html">Storage</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/solver.html">Solver</a></li>
  <li><a href="//dev.yathit.com/api/ydn/db/streamer.html">Streamer</a></li>
</ul></li>  <li><ul name="ydn.gdata"><span>ydn.gdata</span>
  <li><a href="//crm.yathit.com/api/ydn/gdata/entry.html">Entry</a></li>
  <li><a href="//crm.yathit.com/api/ydn/gdata/feed.html">Feed</a></li>
  <li><ul name="ydn.gdata.m8"><span>ydn.gdata.m8</span>
  <li><a href="//crm.yathit.com/api/ydn/gdata/m8/contact-entry.html">ContactEntry</a></li>
  <li><a href="//crm.yathit.com/api/ydn/gdata/m8/group-entry.html">GroupEntry</a></li>
</ul></li></ul></li>  <li><ul name="ydn.http"><span>ydn.http</span>
  <li><a href="//crm.yathit.com/api/ydn/http/itransport.html">ITransport</a></li>
  <li><a href="//crm.yathit.com/api/ydn/http/callback-result.html">CallbackResult</a></li>
</ul></li></ul>
</div>
          </div>
          <div class="api-content jsdoc">
              <h2 class="classTitle">Class ydn.math.Expression</h2>
  <p> An instance of the Expression class represents an expression. </p>
  <p>Expression are useful to define pure function on run-time.</p>
  <div class="sectionTitle"> Constructor </div>
  <a name="constructor"></a> <details> <summary>
  <div class="fixedFont"> <b>ydn.math.Expression</b>(tokens) <span class="version">version
              2</span></div>
  <div class="description"> Create an expression in canonical form. </div>
</summary>
  <div class="details">
    <p>Expression in canonical form consist orderred list of tokens in
      reverse polish notation (RPN). Tokens are recognized as the
      following categories: </p>
    <ol>
      <li>Predefined values
        <ol>
          <li><span class="fixedFont">true</span> : <code>true</code></li>
          <li><span class="fixedFont">false</span> : <code>false</code></li>
          <li><span class="fixedFont">now</span> : current time, i.e, new
            Date()</li>
        </ol>
      </li>
      <li>Predefined operators
        <ol>
          Unary
          <li> <span class="fixedFont">abs</span> : absolute function</li>
          <li> <span class="fixedFont">date</span> : convert integer to <code>Date</code>
            type</li>
          <li> <span class="fixedFont">!</span> : logical not</li>
        </ol>
        <ol>
          Binary
          <li> <span class="fixedFont">+</span> : plus function</li>
          <li> <span class="fixedFont">-</span> : minus function</li>
          <li> <span class="fixedFont">*</span> : multiply function</li>
          <li> <span class="fixedFont">/</span> : divide function</li>
          <li> <span class="fixedFont">%</span> : modulo function</li>
          <li> <span class="fixedFont">in</span> : array test, contains
            in</li>
          <li> <span class="fixedFont">of</span> : array find, index of</li>
          <li> <span class="fixedFont">at</span> : array value, element
            at</li>
          <li> <span class="fixedFont">==</span>,<span class="fixedFont">
                    ===</span>, <span class="fixedFont">!=</span>,<span class="fixedFont">
                    !==</span>, <span class="fixedFont">&lt;=</span>, <span class="fixedFont">&lt;</span>,
            <span class="fixedFont">&gt;=</span>, <span class="fixedFont">&gt;</span>:
            Comparator </li>
          <li> <span class="fixedFont">|</span>, <span class="fixedFont">&amp;</span>
            : Logical or, and </li>
        </ol>
        <ol>
          Ternary
          <li> <span class="fixedFont">?</span> : conditional</li>
        </ol>
      </li>
      <li> Double quoted value as field name. Which is evaluated to
        operand to the field value of the <em>with-object</em>. </li>
      <li>String starting by $ and follow by digit as operand map to
        run-time function argument.</li>
      <li>Single quoted string as operand.<br>
      </li>
      <li> Anything as operand. <br>
      </li>
    </ol>
    <p>The following example illustrate adding 1 to the value of <em>with-object</em>
      field 'a':</p>
          <pre>var e = new ydn.math.Expression(['"a"', 1, '+']);
var with_obj = {a: 5};
var result = e.evaluate(with_obj); // result = 6
</pre>
    <p>The following example illustrate cube function of given argument 1:</p>
          <pre>var e = new ydn.math.Expression(['$1', '$1', '$1', '*', '*']);
var result = e.evaluate(null, 2); // result = 8
</pre>
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{!Array}</span> <b>tokens</b></dt>
      <dd>Ordered list of tokens to define an expression.</dd>
    </dl>
  </div>
</details>
  <div class="sectionTitle"> Method </div>
  <a name="id"></a> <details> <summary>
  <div class="fixedFont"> <b>evaluate</b>(with_object, ...) </div>
  <div class="description"> Evaluate the expression. </div>
</summary> <em>With-object</em> is not evaluate by javascript <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/with"><code>with</code>
  statement</a>, but directly accessing field value of given <em>with-object</em>
  in the spirit of <a href="http://en.wikipedia.org/wiki/Pure_function">pure
    function</a>. Any additional argument are used as canned arguments.
  <div class="details">
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{Object}</span> <b>with_object</b></dt>
      <dd>With object for field value. May be null.</dd>
      <dt><span class="light fixedFont optional">{...}</span> <b>...</b></dt>
      <dd>Optional canned arguments. Argument are referred by $1, $2, etc</dd>
    </dl>
    <dl class="detailList">
      <dt class="heading">Returns:</dt>
      <dd><span class="light fixedFont">{*}</span> return result of
        evaluation of the expression.</dd>
    </dl>
  </div>
</details>
  <hr> <a name="compile"></a> <details> <summary>
  <div class="fixedFont"><b>compile</b>() </div>
  <div class="description"> Compile the expression to a function. </div>
</summary>
  <div class="details">
    <dl class="detailList">
      <dt class="heading">Returns:</dt>
      <dd><span class="light fixedFont">{Function}</span> return function.</dd>
    </dl>
  </div>
</details>
  <hr> <a name="parseInfix"></a> <details> <summary>
  <div class="fixedFont"><b>parseInfix</b>(expression) </div>
  <div class="description"> Parse infix notation representation to an
    expression. </div>
</summary>
  <div class="details">
    <p>The following example illustrate adding 1 to the value of <em>with-object</em>
      field 'a':</p>
          <pre>var e = ydn.math.Expresion.parseInfix('"a" + 1');
result = e.evaluate({a: 4}); // result = 5</pre>
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{string}</span> <b>expression</b></dt>
      <dd>Expression in infix notation.</dd>
    </dl>
    <dl class="detailList">
      <dt class="heading">Returns:</dt>
      <dd><span class="light fixedFont">{!ydn.math.Expression}</span>
        return store name.</dd>
    </dl>
  </div>
</details>
  <hr> <a name="parseRpn"></a> <details> <summary>
  <div class="fixedFont"><b>parseRpn</b>(expression) </div>
  <div class="description"> Parse reverse polish notation (RPN)
    representation to an expression. </div>
</summary>
  <div class="details">
    <p>The following example illustrate adding 1 to the value of <em>with-object</em>
      field 'a':</p>
          <pre>var e = ydn.math.Expresion.parseRpn('"a" 2 +');
result = e.evaluate({a: 1}); // result = 3</pre>
    <p>Arithmetic function<br>
    </p>
          <pre>var e = ydn.math.Expression.parseRpn('2 $1 /');
result = e.evaluate(null, 6); // result = 3;
</pre>
    <p>String concatenation<br>
    </p>
          <pre>var e = ydn.math.Expression.parseRpn('"a" \'b\' +');
result = e.evaluate({a: 'c'}); // result = 'bc';
</pre>
    <dl class="detailList">
      <dt class="heading">Parameters:</dt>
      <dt><span class="light fixedFont optional">{string}</span> <b>expression</b></dt>
      <dd>Expression in RPN.</dd>
    </dl>
    <dl class="detailList">
      <dt class="heading">Returns:</dt>
      <dd><span class="light fixedFont">{!ydn.math.Expression}</span>
        return store name.</dd>
    </dl>
  </div>
</details>
  <hr> <a name="toJSON"></a> <details> <summary>
  <div class="fixedFont"><b>toJSON</b>() </div>
  <div class="description"> Get expression in JSON format. </div>
</summary>
  <dl class="detailList">
    <dt class="heading">Returns:</dt>
    <dd><span class="light fixedFont">{!Object}</span> object JSON object.</dd>
  </dl>
</details>



<br /><div class="g-comments"></div>
          </div>
        </div>
      </div>
    </div> <!-- /.article-container -->
    <div class="container clear">
	<div id="gc-content-license" class="gc-content-license g-wide--3 g-wide--last" >
		
		<div class="container clear">
	<div class="g-wide--3 g-wide--last">
    
	</div>
</div>

	</div>
</div>

    <footer class="main-footer">
  <div class="main-footer__container container clear">
    <div class="main-footer__list-group">
      <ul class="main-footer__list main-footer__list--primary">
      

        

        
        <li class="sitemap__item sitemap__item--<strong>ydn-db</strong>  sitemap__item--home  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/ydn-db/index.html" title="Go to <strong>YDN-DB</strong>">
            <strong>YDN-DB</strong>
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--download  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/ydn-db/downloads.html" title="Go to Download">
            Download
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--documentation  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/ydn-db/doc/index.html" title="Go to Documentation">
            Documentation
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--api  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/api/ydn/db/storage.html" title="Go to API">
            API
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--examples  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="//dev.yathit.com/ydn-db/doc/example/index.html" title="Go to Examples">
            Examples
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--github  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="https://github.com/yathit/ydn-db" title="Go to GitHub">
            GitHub
          </a>
        </li>
        
      
      </ul>

      <div class="main-footer__google-section">
        <h3 class="main-footer__title"><a href="http://dev.yathit.com/">
          <img id="developers-logo-footer" src="/imgs/yathit-dev-network.svg" alt="Yathit Developer Network logo">
        </a></h3>
        <ul class="main-footer__list main-footer__list--secondary google-list">
          <li><a href="https://www.yathit.com/">Yathit</a></li>
          <li><a href="https://www.yathit.com/terms.html">Terms of Service</a></li>
          <li><a href="https://www.yathit.com/privacy.html">Privacy Policy</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>



    
<script src="/js/script.js"></script>
<script src="/jsc/website-app.js"></script>
<script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>





  </body>
</html>

